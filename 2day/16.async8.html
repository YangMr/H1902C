<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
</html>
<script src="jquery.min.js"></script>
<script>

  //async await 配合使用

  //给函数添加async  那么函数的返回值会是promise对象

  //await 一定要放到async函数里面使用

  //await 后面一般放的promise对象



   // let a = $.ajax({   //发送了ajax请求
   //      url : "./data/pro.json",
   //      success : function (response) {  //请求成功
   //
   //      }
   //  });
   //
   // async function get() {
   //
   //     data = await a;
   //     console.log(data)
   // }

    function createPromise(obj) {
        return new Promise(function (resolve,reject) {
            $.ajax({
                url :obj.url,
                success  : function (response) {
                    resolve(response)
                },
                error : function (error) {
                    reject(error)
                }
            })
        })
    }


    var data = null;
    async function get() {
        data = await createPromise({url:"./data/pro.json"});

        return data;
       //let data2 = await createPromise({url:"./data/a.txt",data : {name : "jack"}})
    }


    





    //
    // createPromise().then(function (num) {
    //     data = num;
    // })
    //
    // console.log(data)

</script>