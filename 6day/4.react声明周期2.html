<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="app"></div>
</body>
</html>
<script src="js/react.development.js"></script>
<script src="js/react-dom.development.js"></script>
<script src="js/prop-types.js"></script>
<script src="js/babel.min.js"></script>
<script type="text/babel">

    //åˆ›å»ºç»„ä»¶
    class Tree extends React.Component {
        //å‡ºç”Ÿçš„æ—¶å€™ä¼šè¿›å…¥åˆ°åˆå§‹åŒ–é˜¶æ®µ
        //åˆå§‹åŒ–é˜¶æ®µçš„æ—¶å€™å¿æ‰§è¡Œæ„é€ å™¨
        constructor(props){
            super(props);

            this.state = {
                age : 0
            }
        }
        //æ‰§è¡Œå®Œæ„é€ å™¨ä¹‹åä¼šæ‰§è¡Œç»„ä»¶åœ¨æ¸²æŸ“ä¹‹å‰çš„é’©å­å‡½æ•°
        componentWillMount(){
            console.log("æ‰§è¡Œå®Œæ„é€ å™¨ä¹‹åä¼šæ‰§è¡Œç»„ä»¶åœ¨æ¸²æŸ“ä¹‹å‰çš„é’©å­å‡½æ•°")
        }
        //è¿›å…¥åˆ°ç»„ä»¶æ¸²æŸ“é˜¶æ®µ
        render(){
            return (
                <div>
                    <h1>æˆ‘æ˜¯ğŸŒ²å¦–,æˆ‘ç°åœ¨æ˜¯{this.state.age}å²</h1>

                </div>
            )
        }
        //è¿›å…¥åˆ°ç»„ä»¶æ¸²æŸ“å®Œæˆé˜¶æ®µ
        componentDidMount(){
            this.timer = setInterval(()=>{
                console.log(this.state.age)
                this.setState({
                    age : this.state.age + 1
                })
            },3000)
        }


        //æ›´æ–°é˜¶æ®µ
        //æ›´æ–°å‰çš„é’©å­å‡½æ•°
        componentWillUpdate(){
            console.log("æˆ‘ç°åœ¨è¿›å…¥åˆ°æ›´æ–°å‰é˜¶æ®µ")
        }
        //æ›´æ–°æ—¶çš„é’©å­å‡½æ•°
        render(){
            return (
                <div>
                    <h1>æˆ‘æ˜¯ğŸŒ²å¦–,æˆ‘ç°åœ¨æ˜¯{this.state.age}å²</h1>
                    <button onClick={()=>ReactDOM.unmountComponentAtNode(document.getElementById("app"))}>ç æ‰ä»–</button>
                </div>
            )

            console.log("æ­£åœ¨æ›´æ–°æ—¶")
        }

        //æ›´æ–°å®Œæˆçš„é’©å­å‡½æ•°

        componentDidUpdate(){

            console.log("æ›´æ–°å®Œæˆé˜¶æ®µ")
        }


        //å¸è½½é˜¶æ®µ
        componentWillUnmount(){
            console.log("è¿›å…¥å¸è½½é˜¶æ®µ")
            clearInterval(this.timer)
        }
    }

    //æ¸²æŸ“ç»„ä»¶
    ReactDOM.render(
        <Tree />,
        document.getElementById("app")
    )
</script>